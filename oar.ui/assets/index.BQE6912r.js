const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/audio-recorder.KrjykFlI.js","assets/js/index.vue_vue_type_script_setup_true_lang.BzMyRLuE.js","assets/js/vendor.B8knQlvs.js","assets/js/vicons.BNz2LP8I.js","assets/js/vueuse.Cvm5TgXm.js","assets/js/throttle-debounce.DNtPP7FE.js","assets/css/audio-recorder.CSzFKpWf.css","assets/js/auto-close-ring.BY8o55NC.js","assets/css/auto-close-ring.adfaoNK5.css","assets/js/button.CWHmmwBi.js","assets/css/button.BAVkawqf.css","assets/js/dashed-loading.C25DmiPn.js","assets/css/dashed-loading.DrWr3etI.css","assets/js/input.CPmrOjsa.js","assets/css/input.DH02q5OB.css","assets/js/joystick.YEb6APkQ.js","assets/css/joystick.BrlOCVLj.css","assets/js/mask.0IHm7jif.js","assets/css/mask.CGh0Od3f.css","assets/js/scrollbar.FL8BVwbu.js","assets/css/scrollbar.DQyCh9xQ.css","assets/js/window.BKz4Rrvm.js","assets/css/window.Corn2QOQ.css","assets/js/play.DokqND9d.js","assets/css/play.z5vCFoRW.css"])))=>i.map(i=>d[i]);
import{r as Ae,d as Y,e as fe,f as pt,i as B,j as se,k as z,l as T,F as ht,m as yt,u as o,n as ve,p as xe,q as wt,v as be,x as gt,y as bt,z as de,c as g,w as ke,A as ie,B as he,C as $e,D as me,E as Fe,G as _e,H as qe,I as Ne,J as b,K as _t,a as De,L as Ue,M as te,N as ee,O as Ee,P as xt,T as Oe,Q as Ie,R as Ve,S as kt,U as Et}from"./js/vendor.B8knQlvs.js";import{S as Rt,E as Mt,a as Lt,X as St}from"./js/vicons.BNz2LP8I.js";import{u as je}from"./js/vueuse.Cvm5TgXm.js";import{t as Ke}from"./js/throttle-debounce.DNtPP7FE.js";(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const d of e)if(d.type==="childList")for(const a of d.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&c(a)}).observe(document,{childList:!0,subtree:!0});function t(e){const d={};return e.integrity&&(d.integrity=e.integrity),e.referrerPolicy&&(d.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?d.credentials="include":e.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function c(e){if(e.ep)return;e.ep=!0;const d=t(e);fetch(e.href,d)}})();const oe=(u,l)=>{const t=u.__vccOpts||u;for(const[c,e]of l)t[c]=e;return t},Tt={};function Ct(u,l){const t=Ae("RouterView");return Y(),fe(t)}const Bt=oe(Tt,[["render",Ct]]),Pt="modulepreload",At=function(u){return"/oar.ui/"+u},Ge={},ne=function(l,t,c){let e=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),s=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));e=Promise.allSettled(t.map(i=>{if(i=At(i),i in Ge)return;Ge[i]=!0;const _=i.endsWith(".css"),R=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${R}`))return;const V=document.createElement("link");if(V.rel=_?"stylesheet":Pt,_||(V.as="script"),V.crossOrigin="",V.href=i,s&&V.setAttribute("nonce",s),document.head.appendChild(V),_)return new Promise((m,M)=>{V.addEventListener("load",m),V.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${i}`)))})}))}function d(a){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a}return e.then(a=>{for(const s of a||[])s.status==="rejected"&&d(s.reason);return l().catch(d)})},Ze=pt("router",()=>({router:B([])})),$t={class:"main-container"},Ft={class:"menu"},Dt={class:"body"},Ot=se({__name:"home",setup(u){const l=Ze();return(t,c)=>{const e=Ae("RouterLink"),d=Ae("RouterView");return Y(),z("main",$t,[T("ul",Ft,[(Y(!0),z(ht,null,yt(o(l).router,(a,s)=>(Y(),z("li",{key:s},[ve(e,{to:a.path},{default:xe(()=>[wt(be(a.name),1)]),_:2},1032,["to"])]))),128))]),T("div",Dt,[ve(d)])])}}}),It=oe(Ot,[["__scopeId","data-v-18782444"]]),Je=Object.assign({"../views/docs/audio-recorder.md":()=>ne(()=>import("./js/audio-recorder.KrjykFlI.js"),__vite__mapDeps([0,1,2,3,4,5,6])),"../views/docs/auto-close-ring.md":()=>ne(()=>import("./js/auto-close-ring.BY8o55NC.js"),__vite__mapDeps([7,1,2,3,4,5,8])),"../views/docs/button.md":()=>ne(()=>import("./js/button.CWHmmwBi.js"),__vite__mapDeps([9,1,2,3,4,5,10])),"../views/docs/dashed-loading.md":()=>ne(()=>import("./js/dashed-loading.C25DmiPn.js"),__vite__mapDeps([11,1,2,3,4,5,12])),"../views/docs/input.md":()=>ne(()=>import("./js/input.CPmrOjsa.js"),__vite__mapDeps([13,1,2,3,4,5,14])),"../views/docs/joystick.md":()=>ne(()=>import("./js/joystick.YEb6APkQ.js"),__vite__mapDeps([15,1,2,3,4,5,16])),"../views/docs/mask.md":()=>ne(()=>import("./js/mask.0IHm7jif.js"),__vite__mapDeps([17,1,2,3,4,5,18])),"../views/docs/scrollbar.md":()=>ne(()=>import("./js/scrollbar.FL8BVwbu.js"),__vite__mapDeps([19,1,2,3,4,5,20])),"../views/docs/window.md":()=>ne(()=>import("./js/window.BKz4Rrvm.js"),__vite__mapDeps([21,1,2,3,4,5,22]))}),et=[],Vt=u=>u.split(/[-_]/).map(l=>l.charAt(0).toUpperCase()+l.slice(1)).join(""),Ht=Object.keys(Je).map(u=>{const l=u.replace("../views/docs/","").replace(".md",""),t="/"+l;return et.push({path:t,name:l}),{path:t,name:`Oar${Vt(l)}`,component:Je[u]}}),tt=gt({history:bt("/oar.ui/"),routes:[{path:"/",name:"home",component:It,children:Ht},{path:"/play",name:"play",component:()=>ne(()=>import("./js/play.DokqND9d.js"),__vite__mapDeps([23,2,3,4,5,24]))}]});let Qe=!1;tt.beforeEach(()=>{Qe||(Ze().router.push(...et),Qe=!0)});const Yt=de({componentStyle:"oar",isDefault:!1});function Re(u){return g(()=>u&&(u==null?void 0:u.default)||Yt.isDefault)}const we="oar",Wt="is-",ge=(u,l,t,c,e)=>{let d=`${u}-${l}`;return t&&(d+=`-${t}`),c&&(d+=`__${c}`),e&&(d+=`--${e}`),d};function ae(u){return{b:(l="")=>ge(we,u,l,"",""),e:l=>l?ge(we,u,"",l,""):"",m:l=>l?ge(we,u,"","",l):"",em:(l,t)=>ge(we,u,"",l,t),is:(l,t)=>l&&t?Wt+l:""}}function Xt(u,l,{afterFocus:t,afterBlur:c}={}){ke(u,i=>{i&&i.setAttribute("tabindex","-1")});const e=B(!1);return{isFocused:e,handleClick:()=>{l.value&&l.value.focus()},handleFocus:i=>{e.value||(e.value=!0,t==null||t(i))},handleBlur:i=>{var _;i.relatedTarget&&((_=u.value)!=null&&_.contains(i.relatedTarget))||(e.value=!1,c==null||c(i))}}}const zt=["disabled"],qt={key:0,class:"svg-container",viewBox:"0 0 50 50"},Nt=se({__name:"index",props:{type:{default:"primary"},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},plain:{type:Boolean,default:!1},text:{type:Boolean,default:!1},default:{type:[Boolean,null]}},setup(u){const l=u,t=Re(l),c=ae("button"),e=g(()=>({[c.b()]:!0,[c.m(l.type)]:!t.value,[c.m("loading")]:l.loading&&!l.disabled,[c.is("default",t.value)]:!0,[c.is("plain",!t.value&&l.plain)]:!0,[c.is("text",!t.value&&!l.plain&&l.text)]:!0}));return(d,a)=>(Y(),z("button",$e(d.$attrs,{class:e.value,disabled:d.disabled}),[l.loading&&!l.disabled?(Y(),z("svg",qt,a[0]||(a[0]=[T("circle",{cx:"25",cy:"25",r:"20",class:"circle-box"},null,-1)]))):ie("",!0),he(d.$slots,"default",{},void 0,!0)],16,zt))}}),Ut=oe(Nt,[["__scopeId","data-v-6702e9f2"]]),jt=["placeholder","maxlength","readonly","disabled","type"],Kt=["placeholder","maxlength","readonly","disabled","type"],Gt=se({__name:"index",props:me({clearable:{type:Boolean,default:!1},placeholder:{default:""},type:{default:"text"},maxlength:{},readonly:{type:Boolean},disabled:{type:Boolean},default:{type:[Boolean,null]}},{modelValue:{},modelModifiers:{}}),emits:me(["focus","blur","input","clear"],["update:modelValue"]),setup(u,{expose:l,emit:t}){const c=ae("input"),[e,d]=Fe(u,"modelValue",{set(L){return d.lowercase?L.toLowerCase():L}}),a=t,s=u,i=Re(s),_=g(()=>typeof e.value=="string"?e.value.length:0),R=g(()=>{const L=typeof s.maxlength<"u"?x(s.maxlength):NaN;return Number.isNaN(L)?void 0:L}),V=g(()=>s.type==="password"?m.value?"text":"password":s.type),m=B(!1),M=B(),h=B(),{isFocused:f,handleClick:y,handleBlur:v,handleFocus:C}=Xt(M,h,{afterFocus(L){a("focus",L)},afterBlur(L){a("blur",L)}}),x=L=>Math.abs(Math.round(Number(L))),k=L=>{a("input",L)},W=()=>{e.value&&f.value&&$()},$=()=>{e.value="",a("clear")};return l({ref:h,clear:$,focus:()=>h.value.focus(),blur:()=>h.value.blur()}),(L,S)=>o(i)?_e((Y(),z("input",$e({key:0,ref_key:"inputRef",ref:h,"onUpdate:modelValue":S[0]||(S[0]=F=>Ne(e)?e.value=F:null),onBlur:S[1]||(S[1]=(...F)=>o(v)&&o(v)(...F)),onFocus:S[2]||(S[2]=(...F)=>o(C)&&o(C)(...F)),onInput:k},L.$attrs,{class:[o(c).e("default")],placeholder:s.placeholder,maxlength:R.value,readonly:s.readonly,disabled:s.disabled,type:V.value}),null,16,jt)),[[qe,o(e)]]):(Y(),z("div",{key:1,ref_key:"wrapperRef",ref:M,onClick:S[7]||(S[7]=(...F)=>o(y)&&o(y)(...F)),class:b([o(c).b(),o(c).is("focus",o(f)),o(c).is("disabled",s.disabled)])},[_e(T("input",$e({ref_key:"inputRef",ref:h,"onUpdate:modelValue":S[3]||(S[3]=F=>Ne(e)?e.value=F:null),onBlur:S[4]||(S[4]=(...F)=>o(v)&&o(v)(...F)),onFocus:S[5]||(S[5]=(...F)=>o(C)&&o(C)(...F)),onInput:k},L.$attrs,{class:[o(c).e("inner")],placeholder:s.placeholder,maxlength:R.value,readonly:s.readonly,disabled:s.disabled,type:V.value}),null,16,Kt),[[qe,o(e)]]),s.clearable?(Y(),fe(o(Rt),{key:0,onClick:W,class:b([o(c).e("clear"),o(c).is("show",o(f)&&!!o(e)),o(c).is("hide",!o(f)||!o(e))])},null,8,["class"])):ie("",!0),s.type==="password"?(Y(),fe(_t(m.value?o(Mt):o(Lt)),{key:1,class:b([o(c).e("eye"),o(c).is("show",!!o(e)),o(c).is("hide",!o(e)),o(c).is("left",s.clearable)]),onClick:S[6]||(S[6]=F=>m.value=!m.value)},null,8,["class"])):ie("",!0),R.value?(Y(),z("span",{key:2,class:b(o(c).e("length"))},be(_.value)+" / "+be(R.value),3)):ie("",!0)],2))}}),Jt=oe(Gt,[["__scopeId","data-v-3cf2e8ec"]]);function Qt(u,l,t){let c="Y",e=!1,d=0,a=0,s=0,i=0;const _=f=>{f.ctrlKey||f.button===2||(e=!0,c=f.target.dataset.type,c==="Y"?(d=f.clientY,a=u.value.scrollTop):(s=f.clientX,i=u.value.scrollLeft),document.addEventListener("mousemove",R,!1),document.addEventListener("mouseup",V,!1),document.onselectstart=()=>!1)},R=f=>{if(e)if(c==="Y"){const y=m(f,"Y",d,a);u.value.scrollTop=y}else{const y=m(f,"X",s,i);u.value.scrollLeft=y}},V=()=>{e&&(document.removeEventListener("mousemove",R,!1),document.onselectstart=null,e=!1)},m=(f,y,v,C)=>{if(y==="Y"){const x=f.clientY-v,k=u.value.scrollHeight/l.value.clientHeight;return C+x*k}else{const x=f.clientX-v,k=u.value.scrollWidth/t.value.clientWidth;return C+x*k}};return{handleMouseDown:_,getThumbSize:()=>{const{clientHeight:f,scrollHeight:y,clientWidth:v,scrollWidth:C}=u.value,x=f===y?0:f/y*100,k=v===C?0:v/C*100;return{height:x,width:k}},getScrollDistance:f=>{const{scrollTop:y,clientHeight:v,scrollLeft:C,clientWidth:x}=f,k=y/v*100,W=C/x*100;return{scrollY:k,scrollX:W}},calcScrollValue:m}}const Zt=se({__name:"index",props:{always:{type:Boolean,default:!1},scrollY:{type:Boolean,default:!1},scrollX:{type:Boolean,default:!1},default:{type:[Boolean,null]}},emits:["scroll"],setup(u,{expose:l,emit:t}){const c=t,e=u,d=Re(e),a=ae("scrollbar"),s=B(),i=B(),_=B(),R=B(),V=B(),m=B(),M=B(0),h=B(0),f=B(0),y=B(0),v=g(()=>({height:M.value+"%",transform:`translateY(${h.value}%)`})),C=g(()=>({width:f.value+"%",transform:`translateX(${y.value}%)`})),x=g(()=>[a.e("warp"),a.is("show",!d.value),a.is("scroll-y",e.scrollY&&!e.scrollX),a.is("scroll-x",!e.scrollY&&e.scrollX),a.is("scroll",!e.scrollX&&!e.scrollY)]),{handleMouseDown:k,getThumbSize:W,getScrollDistance:$,calcScrollValue:L}=Qt(s,_,V);De(()=>{je(s,Ke(500,()=>{S()})),je(i,Ke(500,()=>{S()}))});const S=()=>{const{height:I,width:D}=W();M.value=I,f.value=D},F=I=>{const{scrollY:D,scrollX:H}=$(I.target);h.value=D,y.value=H,c("scroll",I)},p=I=>{const D=I.target.getAttribute("data-type");let H="",q=0;if(D==="Y"){const J=R.value.getBoundingClientRect().top+R.value.offsetHeight/2;q=L(I,"Y",J,s.value.scrollTop),H="scrollTop"}else{const J=m.value.getBoundingClientRect().left+m.value.offsetWidth/2;q=L(I,"X",J,s.value.scrollLeft),H="scrollLeft"}P(H,q)},P=(I,D)=>{let H=0;const q=10,N=Math.ceil((D-s.value[I])/q),J=window.requestAnimationFrame||(ce=>setTimeout(ce,10)),le=()=>{s.value[I]+=N,H<q&&J(le),H+=1};le()};return l({ref:s,setScrollTop:I=>{P("scrollTop",I)},setScrollLeft:I=>{P("scrollLeft",I)}}),(I,D)=>(Y(),z("div",{class:b([o(a).b()])},[T("div",{onScroll:F,ref_key:"wrapRef",ref:s,class:b(x.value)},[T("div",{ref_key:"wrapViewRef",ref:i,class:b([o(a).e("view")])},[he(I.$slots,"default",{},void 0,!0)],2)],34),_e(T("div",{onClick:p,"data-type":"Y",class:b([o(a).e("bar"),o(a).e("horizontal")]),ref_key:"barHorizontalRef",ref:_},[T("div",{ref_key:"thumbHorizontalRef",ref:R,onClick:D[0]||(D[0]=te(()=>{},["stop"])),onMousedown:D[1]||(D[1]=(...H)=>o(k)&&o(k)(...H)),"data-type":"Y",style:ee(v.value),class:b([o(a).e("thumb"),o(a).is("always",e.always)])},null,38)],2),[[Ue,M.value&&!o(d)]]),_e(T("div",{onClick:p,"data-type":"X",class:b([o(a).e("bar"),o(a).e("vertical")]),ref_key:"barVerticalRef",ref:V},[T("div",{ref_key:"thumbVerticalRef",ref:m,onClick:D[2]||(D[2]=te(()=>{},["stop"])),onMousedown:D[3]||(D[3]=(...H)=>o(k)&&o(k)(...H)),"data-type":"X",style:ee(C.value),class:b([o(a).e("thumb"),o(a).is("always",e.always)])},null,38)],2),[[Ue,f.value&&!o(d)]])],2))}}),eo=oe(Zt,[["__scopeId","data-v-009be30b"]]),to=se({__name:"index",props:{type:{default:"linear"},direction:{default:"4-way"},width:{default:180},height:{default:180},linearSpeed:{default:2},rotateSpeed:{default:.012}},emits:["change","reset"],setup(u,{emit:l}){const t=u,c=l,e=ae("joystick"),d=B(),a=B(),s=B(-1),i=B(!1),_=B(!1),R=B(!1),V=B(!1),m=B(!1),M=de({x:0,y:0}),h=de({x:0,y:0}),f=B(0),y=B(0),v=de({w:!1,a:!1,s:!1,d:!1,left:!1,right:!1});let C=0,x=0,k=0;const W=g(()=>[m.value?"transition: transform 0.2s ease-out;":"",`transform: translate(${h.x}px, ${h.y}px)`]);De(()=>{N(),L()}),Ee(()=>{S()});const $=n=>(!_.value&&!R.value&&(i.value=n==="touch"),!i.value&&!R.value&&(_.value=n==="mouse"),!i.value&&!_.value&&(R.value=n==="keyboard"),n==="touch"?!R.value&&!_.value:n==="mouse"?!i.value&&!R.value:!i.value&&!_.value),L=()=>{window.addEventListener("keydown",P),window.addEventListener("keyup",G),window.addEventListener("blur",I),V.value=!1},S=()=>{window.removeEventListener("keydown",P),window.removeEventListener("keyup",G),window.removeEventListener("blur",I),V.value=!0},F=n=>{const w=n.key.toLowerCase(),r=t.type==="linear"?["w","s","a","d"]:["arrowleft","arrowright",",",".","4","6"];return{key:w,check:r.includes(w)}},p=(n,w)=>{["arrowleft",",","4"].includes(n)?v.left=w:["arrowright",".","6"].includes(n)?v.right=w:v[n]=w},P=n=>{if(!$("keyboard"))return;m.value=!1;const{key:w,check:r}=F(n);r&&(p(w,!0),C||X())},X=()=>{m.value=!1;const n=t.linearSpeed,w=t.rotateSpeed;let r=0,A=0;if(v.w&&(A-=n),v.s&&(A+=n),v.a&&(r-=n),v.d&&(r+=n),v.left)y.value-=w,h.x=Math.sin(y.value)*f.value,h.y=-Math.cos(y.value)*f.value;else if(v.right)y.value+=w,h.x=Math.sin(y.value)*f.value,h.y=-Math.cos(y.value)*f.value;else if(Math.sqrt(r*r+A*A)>0){const j=h.x+r,Q=h.y+A;ce(j,Q)}O(),C=requestAnimationFrame(X)},G=n=>{if(!$("keyboard"))return;const{key:w,check:r}=F(n);r&&(p(w,!1),Object.values(v).some(Boolean)||J())},I=()=>{Object.keys(v).forEach(n=>{p(n,!1)}),J()},D=n=>Array.from(n.changedTouches).find(w=>w.identifier===s.value),H=n=>{if(!$("touch"))return;let w=0;const r=1e3/30,A=()=>{if(!$("touch"))return;const Z=Date.now();Z-w>r&&(O(),w=Z),x=requestAnimationFrame(A)},U=Z=>{const ue=D(Z);ue&&le(ue.clientX,ue.clientY)},j=Z=>{$("touch")&&U(Z)},Q=Z=>{$("touch")&&D(Z)&&(J(),window.removeEventListener("touchmove",j),window.removeEventListener("touchend",Q))};m.value=!1,s.value=n.changedTouches[0].identifier,N(),U(n),A(),S(),window.addEventListener("touchmove",j),window.addEventListener("touchend",Q)},q=n=>{if(n.button!==0||!$("mouse"))return;let w=0;const r=1e3/30,A=()=>{if(!$("mouse"))return;const Q=Date.now();Q-w>r&&(O(),w=Q),k=requestAnimationFrame(A)},U=Q=>{$("mouse")&&le(Q.clientX,Q.clientY)},j=()=>{$("mouse")&&(J(),window.removeEventListener("mousemove",U),window.removeEventListener("mouseup",j))};m.value=!1,N(),le(n.clientX,n.clientY),A(),S(),window.addEventListener("mousemove",U),window.addEventListener("mouseup",j)},N=()=>{const n=d.value.getBoundingClientRect();M.x=n.left+n.width/2,M.y=n.top+n.height/2;const w=n.width/2,A=a.value.getBoundingClientRect().width/2;f.value=w-A},J=()=>{i.value=!1,_.value=!1,R.value=!1,m.value=!0,h.x=0,h.y=0,y.value=0,s.value=-1,V.value&&L(),C&&(cancelAnimationFrame(C),C=0),k&&(cancelAnimationFrame(k),k=0),x&&(cancelAnimationFrame(x),x=0),c("reset")},le=(n,w)=>{const r=n-M.x,A=w-M.y;ce(r,A)},ce=(n,w)=>{const r=Math.sqrt(n*n+w*w);if(r>f.value){const A=f.value/r;h.x=n*A,h.y=w*A}else h.x=n,h.y=w},ye=(n,w)=>{let r="none";n>=337.5||n<22.5?r="forward":n>=22.5&&n<67.5?r="forward-right":n>=67.5&&n<112.5?r="right":n>=112.5&&n<157.5?r="backward-right":n>=157.5&&n<202.5?r="backward":n>=202.5&&n<247.5?r="backward-left":n>=247.5&&n<292.5?r="left":n>=292.5&&n<337.5&&(r="forward-left");const A={direction:r,isForward:r==="forward",isBackward:r==="backward",isLeft:r==="left",isRight:r==="right",isForwardRight:r==="forward-right",isForwardLeft:r==="forward-left",isBackwardRight:r==="backward-right",isBackwardLeft:r==="backward-left",...w};c("change",A)},Le=(n,w)=>{let r="none";n>=315||n<45?r="forward":n>=45&&n<135?r="right":n>=135&&n<225?r="donw":n>=225&&n<315&&(r="left");const A={direction:r,isForward:r==="forward",isBackward:r==="backward",isLeft:r==="left",isRight:r==="right",...w};c("change",A)},E=(n,w)=>{let r="none";v.left?r="left":v.right||n>0&&n<=180?r="right":n>180&&n<=360&&(r="left");const A={direction:r,isLeft:r==="left",isRight:r==="right",...w};c("change",A)},O=()=>{const n=Math.sqrt(h.x**2+h.y**2),w=Math.min(n/f.value,1),r=Math.atan2(h.x,-h.y),U=(r*180/Math.PI+360)%360,j={strength:Number(w.toFixed(2)),angle:Math.round(U),radian:Number(r.toFixed(3))};t.type==="linear"&&t.direction==="8-way"?ye(U,j):t.type==="linear"&&t.direction==="4-way"?Le(U,j):E(U,j)};return(n,w)=>(Y(),z("div",{style:ee(`width: ${t.width}px; height: ${t.height}px;`),onContextmenu:w[0]||(w[0]=te(()=>{},["prevent"])),class:b(o(e).b())},[t.type==="linear"?(Y(),z("div",{key:0,ref_key:"outsideRef",ref:d,onTouchstart:te(H,["prevent"]),onMousedown:te(q,["prevent"]),class:b([o(e).e("outside"),o(e).is("linear",!0)])},[T("div",{ref_key:"innsideRef",ref:a,style:ee(W.value),class:b(o(e).e("innside"))},[T("div",{class:b(o(e).e("button"))},null,2)],6),T("div",{class:b(o(e).e("keyborad"))},[T("span",{class:b([o(e).em("keyborad","w"),o(e).is("light",v.w)])},"W",2),T("span",{class:b([o(e).em("keyborad","a"),o(e).is("light",v.a)])},"A",2),T("span",{class:b([o(e).em("keyborad","s"),o(e).is("light",v.s)])},"S",2),T("span",{class:b([o(e).em("keyborad","d"),o(e).is("light",v.d)])},"D",2)],2)],34)):t.type==="rotate"?(Y(),z("div",{key:1,ref_key:"outsideRef",ref:d,onTouchstart:te(H,["prevent"]),onMousedown:te(q,["prevent"]),class:b([o(e).e("outside")])},[T("div",{ref_key:"innsideRef",ref:a,style:ee(W.value),class:b(o(e).e("innside"))},[T("div",{class:b(o(e).e("button"))},null,2)],6),T("div",{class:b(o(e).e("keyborad"))},[T("span",{class:b([o(e).em("keyborad","left"),o(e).is("light",v.left)])},null,2),T("span",{class:b([o(e).em("keyborad","right"),o(e).is("light",v.right)])},null,2)],2)],34)):ie("",!0)],38))}}),oo=oe(to,[["__scopeId","data-v-64ed7df3"]]),no=se({__name:"index",props:{pcm16:{type:Boolean,default:!1},pressDelay:{default:200},default:{type:[Boolean,null]}},emits:["change","error","cancel"],setup(u,{emit:l}){const t=u,c=l,e=ae("audio-recorder"),d=B(null),a=B(null),s=B(null),i=B(!1),_=B(!1),R=de({left:0,top:0,opacity:0}),V=g(()=>({left:`${R.left}px`,top:`${R.top}px`,position:"fixed",opacity:R.opacity}));let m=null,M=null,h=null,f=null,y=null,v=null,C=null,x=null,k=[],W=[],$=[0,1,2],L=0,S=null,F=null,p=[],P=null;xt(()=>{H()});const X=async()=>{if(await Ve(),!d.value||!s.value)return;const E=d.value.getBoundingClientRect(),O=s.value.getBoundingClientRect();R.left=E.left-O.width-13,R.top=E.top-(O.height-E.height)/2,requestAnimationFrame(()=>{R.opacity=1})},G=async E=>{E.preventDefault(),E instanceof MouseEvent&&(window.addEventListener("mouseup",I,{passive:!1}),window.addEventListener("mouseleave",D,{passive:!1})),m&&window.clearTimeout(m),m=window.setTimeout(()=>{R.opacity=0,i.value=!0,X(),q()},t.pressDelay)},I=E=>{E.preventDefault(),H()},D=()=>{(i.value||_.value)&&(H(),c("cancel"))},H=()=>{m&&(window.clearTimeout(m),m=null),i.value=!1,window.removeEventListener("mouseup",I),window.removeEventListener("mouseleave",D),N(),M&&M.getTracks().forEach(E=>E.stop()),M=null},q=async()=>{try{if(M=await navigator.mediaDevices.getUserMedia({audio:!0}),!i.value){N();return}if(_.value=!0,J(),t.pcm16)S=new AudioContext({sampleRate:16e3}),P=S.createMediaStreamSource(M),F=S.createScriptProcessor(4096,1,1),P.connect(F),F.connect(S.destination),p=[],F.onaudioprocess=E=>{const O=E.inputBuffer.getChannelData(0);p.push(new Float32Array(O))};else{h=new MediaRecorder(M);let E=[];h.ondataavailable=O=>{O.data.size>0&&E.push(O.data)},h.onstop=()=>{const O=new Blob(E,{type:"audio/webm"});E=[],c("change",O)},h.start()}}catch(E){_.value=!1,H(),c("error",E)}},N=()=>{if(_.value=!1,!t.pcm16)h&&h.state!=="inactive"&&h.stop();else if(F&&(F.onaudioprocess=null,F.disconnect(),F=null),P&&(P.disconnect(),P=null),S&&(S.close(),S=null),p.length){const E=p.reduce((r,A)=>r+A.length,0),O=new Float32Array(E);let n=0;for(const r of p)O.set(r,n),n+=r.length;const w=Le(O);c("change",w),p=[]}le(),h=null},J=async()=>{if(!M||!a.value)return;const E=a.value;if(y=E.getContext("2d"),!y)return;const O=window.devicePixelRatio||1,n=a.value.getBoundingClientRect();E.width=n.width*O,E.height=n.height*O,y.setTransform(1,0,0,1,0,0),y.scale(O,O),C=new AudioContext,v=C.createMediaStreamSource(M),x=C.createAnalyser(),x.fftSize=256,v.connect(x),ce()},le=()=>{f&&cancelAnimationFrame(f),f=null,v&&(v.disconnect(),v=null),x&&(x.disconnect(),x=null),C&&(C.close(),C=null),y&&a.value&&(y.clearRect(0,0,a.value.clientWidth,a.value.clientHeight),y=null),W=[],k=[]},ce=()=>{if(!y||!a.value||!x)return;f=requestAnimationFrame(ce);const E=x.frequencyBinCount,O=new Uint8Array(E);x.getByteFrequencyData(O);const n=Math.floor(E/3),w=O.slice(0,n),r=O.slice(n,n*2),A=O.slice(n*2),U=[w,r,A],j=performance.now();if(j>L){$=[0,1,2];for(let K=$.length-1;K>0;K--){const pe=Math.floor(Math.random()*(K+1));[$[K],$[pe]]=[$[pe],$[K]]}L=j+200+Math.random()*150}const Q=Uint8Array.from([...U[$[0]],...U[$[1]],...U[$[2]]]),Z=a.value.clientWidth,ue=a.value.clientHeight;y.clearRect(0,0,Z,ue);const re=Math.min(20,E),ot=Z/re,nt=Z/(re-1),He=Math.max(1,Math.ceil(E/re));k.length!==re&&(k=new Array(re).fill(0)),W.length!==re&&(W=Array.from({length:re},()=>({maxMul:ye(.45,.75),minMul:ye(.4,.65)})));const Se=ot*.7,st=nt*.3,Ye=Math.floor(ue/2),at=45,lt=8,rt=.18;for(let K=0;K<re;K++){let pe=0,Te=0;for(let Pe=0;Pe<He;Pe++){const ze=K*He+Pe;if(ze>=Q.length)break;pe+=Q[ze],Te++}const it=(Te>0?pe/Te:0)/255,{maxMul:ct,minMul:ut}=W[K],dt=at*ct,We=lt*ut;let Ce=dt*it;Ce<We&&(Ce=We+Math.random()*5),k[K]+=(Ce-k[K])*rt;const Be=k[K]/2,Xe=K*(Se+st),ft=Ye-Be,vt=Ye,mt=getComputedStyle(document.documentElement).getPropertyValue("--js-primary-color").trim();y.fillStyle=mt||"red",y.fillRect(Xe,ft,Se,Be),y.fillRect(Xe,vt,Se,Be)}},ye=(E,O)=>E+Math.random()*(O-E),Le=E=>{const O=new ArrayBuffer(E.length*2),n=new DataView(O);let w=0;for(let r=0;r<E.length;r++,w+=2){const A=Math.max(-1,Math.min(1,E[r]));n.setInt16(w,A<0?A*32768:A*32767,!0)}return O};return(E,O)=>(Y(),z("div",{class:b(o(e).b())},[T("div",{ref_key:"triggerRef",ref:d,class:b(o(e).e("trigger")),onMousedown:G,onTouchstart:te(G,["prevent"]),onTouchend:te(I,["prevent"]),onTouchcancel:te(D,["prevent"])},[he(E.$slots,"trigger",{isPressing:i.value,isRecording:_.value},void 0,!0)],34),(Y(),fe(Ie,{to:"body"},[ve(Oe,null,{default:xe(()=>[i.value?(Y(),z("div",{key:0,ref_key:"popupRef",ref:s,class:b(o(e).b("popup")),style:ee(V.value)},[T("canvas",{ref_key:"canvasRef",ref:a},null,512)],6)):ie("",!0)]),_:1})]))],2))}}),so=oe(no,[["__scopeId","data-v-b0ee81e6"]]),ao=se({__name:"index",props:me({title:{default:"New Tab"},to:{default:"body"},center:{type:Boolean,default:!1},defaultPosition:{default:()=>({x:0,y:0})},width:{},height:{},contentStyle:{},contentClass:{},default:{type:[Boolean,null]}},{show:{type:Boolean,default:!1},showModifiers:{}}),emits:me(["close"],["update:show"]),setup(u,{emit:l}){const t=u,c=l,e=ae("window"),d=Fe(u,"show"),a=B(null),s=de({x:0,y:0}),i={x:0,y:0},_=()=>{const p=x(t.defaultPosition.x,t.defaultPosition.y);s.x=p.x,s.y=p.y,i.x=p.x,i.y=p.y},R=g(()=>({transform:`translate(${s.x}px, ${s.y}px)`})),V=g(()=>[{width:typeof t.width=="number"?`${t.width}px`:t.width,height:typeof t.height=="number"?`${t.height}px`:t.height},t.contentStyle]);let m=!1,M={x:0,y:0},h={x:0,y:0},f=null,y=null,v=null;Ee(()=>{f&&(cancelAnimationFrame(f),f=null),a.value=null,d.value=!1,s.x=0,s.y=0,i.x=0,i.y=0,m=!1,M={x:0,y:0},h={x:0,y:0},y=null,v=null}),ke(d,async p=>{if(!p)return;await Ve(),await new Promise(X=>requestAnimationFrame(X)),await new Promise(X=>requestAnimationFrame(X));const P=document.querySelector(t.to);P&&(y=P.getBoundingClientRect(),v=a.value.getBoundingClientRect(),t.center?C():_())},{immediate:!0});const C=()=>{if(!y||!v)return;const p=(y.width-v.width)/2,P=(y.height-v.height)/2;s.x=p,s.y=P,i.x=p,i.y=P},x=(p,P)=>{if(!y||!v)return{x:p,y:P};const X=0,G=0,I=y.width-v.width,D=y.height-v.height;return{x:Math.min(I,Math.max(X,p)),y:Math.min(D,Math.max(G,P))}},k=p=>{if(p instanceof MouseEvent)return{x:p.clientX,y:p.clientY};{const P=p.touches[0];return{x:P.clientX,y:P.clientY}}},W=p=>{p.preventDefault(),p.stopPropagation(),m=!0,M=k(p),h={x:s.x,y:s.y},p instanceof MouseEvent?(window.addEventListener("mousemove",$,{passive:!1}),window.addEventListener("mouseup",L,{passive:!1}),window.addEventListener("mouseleave",L,{passive:!1})):(window.addEventListener("touchmove",$,{passive:!1}),window.addEventListener("touchend",L,{passive:!1}),window.addEventListener("touchcancel",L,{passive:!1}))},$=p=>{if(!m)return;p.preventDefault(),p.stopPropagation();const P=k(p),X=P.x-M.x,G=P.y-M.y,I=h.x+X,D=h.y+G,H=x(I,D);i.x=H.x,i.y=H.y,f||S()},L=p=>{p.preventDefault(),p.stopPropagation(),m=!1,p instanceof MouseEvent?(window.removeEventListener("mousemove",$),window.removeEventListener("mouseup",L),window.removeEventListener("mouseleave",L)):(window.removeEventListener("touchmove",$),window.removeEventListener("touchend",L),window.removeEventListener("touchcancel",L))},S=()=>{if(f)return;const p=()=>{s.x+=(i.x-s.x)*.18,s.y+=(i.y-s.y)*.18;const P=Math.abs(s.x-i.x)<.5,X=Math.abs(s.y-i.y)<.5;P&&(s.x=i.x),X&&(s.y=i.y),m||!P||!X?f=requestAnimationFrame(p):f&&(cancelAnimationFrame(f),f=null)};f=requestAnimationFrame(p)},F=()=>{d.value=!1,c("close")};return(p,P)=>(Y(),fe(Ie,{to:t.to},[ve(Oe,{name:"fade"},{default:xe(()=>[d.value?(Y(),z("div",{key:0,ref_key:"windowRef",ref:a,style:ee(R.value),class:b(o(e).b())},[T("div",{class:b(o(e).e("tab"))},[T("h5",{onMousedown:W,onTouchstart:W},be(t.title),33),T("div",{class:b(o(e).e("tab-btn"))},[T("div",{onClick:F,class:b(o(e).e("tab-btn-icon"))},[ve(o(St))],2)],2)],2),T("div",{style:ee(V.value),class:b([o(e).e("content"),t.contentClass])},[he(p.$slots,"default",{},void 0,!0)],6)],6)):ie("",!0)]),_:3})],8,["to"]))}}),lo=oe(ao,[["__scopeId","data-v-789ed42d"]]),ro=se({__name:"index",props:me({to:{},lockScroll:{type:Boolean,default:!0},closeOnClick:{type:Boolean,default:!0},opacity:{default:.5},default:{type:[Boolean,null]}},{show:{type:Boolean,default:!1},showModifiers:{}}),emits:me(["close"],["update:show"]),setup(u,{expose:l,emit:t}){const c=u,e=t,d=ae("mask"),a=Fe(u,"show"),s=B(null),i=B(!1);let _=null;const R=g(()=>c.to==="body"?!0:c.to===document.body),V=g(()=>({"background-color":`rgba(0, 0, 0, ${c.opacity})`,"z-index":2e3})),m=async()=>{var x;i.value||(i.value=!0,c.lockScroll&&h(),await Ve(),(x=s.value)==null||x.focus())},M=()=>{i.value=!1,f()},h=()=>{!c.lockScroll||_!==null||!i.value||(_=document.body.style.overflow,document.body.style.overflow="hidden")},f=()=>{!c.lockScroll||_===null||i.value||(document.body.style.overflow=_??"",_=null)},y=x=>{x.key==="Escape"&&v()},v=()=>{c.closeOnClick&&C()},C=()=>{a.value=!1,e("close")};return ke(a,x=>{c.lockScroll&&(x?m():M())},{immediate:!0}),Ee(()=>{M()}),l({close:C}),(x,k)=>(Y(),fe(Ie,{disabled:!c.to,to:c.to},[ve(Oe,{name:"fade",onBeforeEnter:m,onAfterLeave:M},{default:xe(()=>[a.value?(Y(),z("div",{key:0,ref_key:"maskRef",ref:s,tabindex:"-1",onKeydown:y,onClick:te(v,["self"]),role:"dialog","aria-modal":"true",class:b([o(d).b(),o(d).is("fixed",R.value)]),style:ee(V.value)},[he(x.$slots,"default",{},void 0,!0)],38)):ie("",!0)]),_:3})],8,["disabled","to"]))}}),io=oe(ro,[["__scopeId","data-v-74ca3a4a"]]),co=["viewBox"],uo=["cx","stroke-width","cy","r"],fo=se({__name:"index",props:{radius:{default:10},strokeWidth:{default:1},padding:{default:4},dashedPercent:{default:.75},default:{type:[Boolean,null]}},setup(u){const l=u,t=ae("dashed-loading"),c=g(()=>Math.max(0,Math.min(l.dashedPercent,1))),e=g(()=>l.radius+l.strokeWidth+l.padding),d=g(()=>Math.ceil(e.value*2)),a=g(()=>`0 0 ${d.value} ${d.value}`),s=g(()=>e.value),i=g(()=>+(2*Math.PI*l.radius).toFixed(2)),_=g(()=>+(i.value*c.value).toFixed(2)),R=g(()=>+(i.value-_.value).toFixed(2)),V=g(()=>({width:`${d.value}px`,height:`${d.value}px`,"--circ":`${i.value}px`,"--dash-long":`${_.value}px`,"--dash-gap":`${R.value}px`}));return(m,M)=>(Y(),z("svg",{class:b(o(t).b()),viewBox:a.value,style:ee(V.value),xmlns:"http://www.w3.org/2000/svg"},[T("circle",{class:b(o(t).e("circle")),cx:s.value,"stroke-width":l.strokeWidth,cy:s.value,r:l.radius},null,10,uo)],14,co))}}),vo=oe(fo,[["__scopeId","data-v-4b8c52a3"]]),mo=["viewBox"],po=["stroke-width","cx","cy","r"],ho=["stroke-dasharray","stroke-dashoffset","stroke-width","cx","cy","r"],yo=["x1","y1","x2","y2"],wo=["x1","y1","x2","y2"],go=se({__name:"index",props:{size:{default:20},strokeWidth:{default:1},duration:{default:5e3},rotate:{default:-90},reverse:{type:Boolean,default:!0},closeRatio:{default:.6},default:{type:[Boolean,null]}},emits:["close"],setup(u,{emit:l}){const t=u,c=l;Re(t);const e=ae("auto-close-ring"),d=B(t.reverse?1:0);let a=null,s=null;const i=g(()=>t.size),_=g(()=>`0 0 ${i.value} ${i.value}`),R=g(()=>({width:`${i.value}px`,height:`${i.value}px`})),V=g(()=>({transform:`rotate(${t.rotate}deg)`,transformOrigin:"center"})),m=g(()=>i.value/2),M=g(()=>t.strokeWidth/2),h=g(()=>m.value-M.value),f=g(()=>+(2*Math.PI*h.value).toFixed(2)),y=g(()=>f.value),v=g(()=>f.value*(1-d.value)),C=g(()=>(h.value-M.value)/Math.sqrt(2)),x=Math.max(0,Math.min(t.closeRatio,1)),k=g(()=>C.value*x),W=g(()=>m.value-k.value),$=g(()=>m.value-k.value),L=g(()=>m.value+k.value),S=g(()=>m.value+k.value),F=g(()=>m.value-k.value),p=g(()=>m.value+k.value),P=g(()=>m.value+k.value),X=g(()=>m.value-k.value),G=()=>{if(a==null)return;const q=t.duration>0?Math.min((performance.now()-a)/t.duration,1):1,N=t.reverse?1-q:q;if(d.value=N,t.reverse?N>0:N<1){s=requestAnimationFrame(G);return}D(),c("close")},I=()=>{a=performance.now(),d.value=t.reverse?1:0,G()},D=()=>{s!=null&&(cancelAnimationFrame(s),s=null),a=null},H=()=>{D(),c("close")};return De(()=>{I()}),ke(()=>[t.reverse,t.duration,t.size,t.strokeWidth],()=>{D(),I()}),Ee(()=>{D()}),(q,N)=>(Y(),z("svg",{role:"button","aria-label":"Close",onClick:H,class:b(o(e).b()),viewBox:_.value,style:ee(R.value),xmlns:"http://www.w3.org/2000/svg"},[T("g",{style:ee(V.value)},[T("circle",{class:b(o(e).e("progress-bg")),"stroke-width":t.strokeWidth,cx:m.value,cy:m.value,r:h.value},null,10,po),T("circle",{"stroke-dasharray":y.value,"stroke-dashoffset":v.value,class:b(o(e).e("progress")),"stroke-width":t.strokeWidth,cx:m.value,cy:m.value,r:h.value},null,10,ho)],4),T("line",{class:b(o(e).e("close")),x1:W.value,y1:$.value,x2:L.value,y2:S.value},null,10,yo),T("line",{class:b(o(e).e("close")),x1:F.value,y1:p.value,x2:P.value,y2:X.value},null,10,wo)],14,mo))}}),bo=oe(go,[["__scopeId","data-v-4382c07b"]]),_o=Object.freeze(Object.defineProperty({__proto__:null,OarAudioRecorder:so,OarAutoCloseRing:bo,OarButton:Ut,OarDashedLoading:vo,OarInput:Jt,OarJoystick:oo,OarMask:io,OarScrollbar:eo,OarWindow:lo},Symbol.toStringTag,{value:"Module"})),xo={install(u){const l=_o;Object.keys(l).forEach(t=>{u.component(t,l[t])})}},Me=kt(Bt);Me.use(Et());Me.use(tt);Me.use(xo);Me.mount("#app");export{oe as _};
