const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/audio-recorder.Wk-kzD5O.js","assets/js/index.vue_vue_type_script_setup_true_lang.BzMyRLuE.js","assets/js/vendor.B8knQlvs.js","assets/js/vicons.BNz2LP8I.js","assets/js/vueuse.Cvm5TgXm.js","assets/js/throttle-debounce.DNtPP7FE.js","assets/css/audio-recorder.CSzFKpWf.css","assets/js/button.TnxXoIGn.js","assets/css/button.CP9ZF3PV.css","assets/js/dashed-loading.D5rPyIbT.js","assets/css/dashed-loading.CZK-GdCL.css","assets/js/input.D-M353bk.js","assets/css/input.B1yxYuui.css","assets/js/joystick.C9lKEzwF.js","assets/css/joystick.DBurm1SK.css","assets/js/mask.Dlg2ihId.js","assets/css/mask.C9XTZywr.css","assets/js/scrollbar.diAf7EUo.js","assets/css/scrollbar.V7DJJonE.css","assets/js/window.8_rZMo31.js","assets/css/window.DLwaHpRd.css","assets/js/play.Qz6KzE6i.js","assets/css/play.1YhoWn02.css"])))=>i.map(i=>d[i]);
import{r as Ce,d as Y,e as fe,f as ht,i as S,j as se,k as z,l as D,F as vt,m as yt,u as n,n as me,p as xe,q as wt,v as be,x as gt,y as bt,z as de,c as H,w as Pe,A as re,B as ve,C as Be,D as pe,E as Ae,G as _e,H as We,I as qe,J as x,K as _t,a as Qe,L as Ne,M as Q,N as te,O as $e,P as xt,T as De,Q as Fe,R as Oe,S as kt,U as Et}from"./js/vendor.B8knQlvs.js";import{S as Rt,E as Lt,a as Mt,X as St}from"./js/vicons.BNz2LP8I.js";import{u as Ue}from"./js/vueuse.Cvm5TgXm.js";import{t as je}from"./js/throttle-debounce.DNtPP7FE.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const d of e)if(d.type==="childList")for(const l of d.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function o(e){const d={};return e.integrity&&(d.integrity=e.integrity),e.referrerPolicy&&(d.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?d.credentials="include":e.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function i(e){if(e.ep)return;e.ep=!0;const d=o(e);fetch(e.href,d)}})();const ne=(u,a)=>{const o=u.__vccOpts||u;for(const[i,e]of a)o[i]=e;return o},Tt={};function Ct(u,a){const o=Ce("RouterView");return Y(),fe(o)}const Bt=ne(Tt,[["render",Ct]]),Pt="modulepreload",At=function(u){return"/oar.ui/"+u},Ke={},oe=function(a,o,i){let e=Promise.resolve();if(o&&o.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),s=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));e=Promise.allSettled(o.map(c=>{if(c=At(c),c in Ke)return;Ke[c]=!0;const g=c.endsWith(".css"),k=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${k}`))return;const F=document.createElement("link");if(F.rel=g?"stylesheet":Pt,g||(F.as="script"),F.crossOrigin="",F.href=c,s&&F.setAttribute("nonce",s),document.head.appendChild(F),g)return new Promise((b,R)=>{F.addEventListener("load",b),F.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${c}`)))})}))}function d(l){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=l,window.dispatchEvent(s),!s.defaultPrevented)throw l}return e.then(l=>{for(const s of l||[])s.status==="rejected"&&d(s.reason);return a().catch(d)})},Ze=ht("router",()=>({router:S([])})),$t={class:"main-container"},Dt={class:"menu"},Ft={class:"body"},Ot=se({__name:"home",setup(u){const a=Ze();return(o,i)=>{const e=Ce("RouterLink"),d=Ce("RouterView");return Y(),z("main",$t,[D("ul",Dt,[(Y(!0),z(vt,null,yt(n(a).router,(l,s)=>(Y(),z("li",{key:s},[me(e,{to:l.path},{default:xe(()=>[wt(be(l.name),1)]),_:2},1032,["to"])]))),128))]),D("div",Ft,[me(d)])])}}}),It=ne(Ot,[["__scopeId","data-v-18782444"]]),Ge=Object.assign({"../views/docs/audio-recorder.md":()=>oe(()=>import("./js/audio-recorder.Wk-kzD5O.js"),__vite__mapDeps([0,1,2,3,4,5,6])),"../views/docs/button.md":()=>oe(()=>import("./js/button.TnxXoIGn.js"),__vite__mapDeps([7,1,2,3,4,5,8])),"../views/docs/dashed-loading.md":()=>oe(()=>import("./js/dashed-loading.D5rPyIbT.js"),__vite__mapDeps([9,1,2,3,4,5,10])),"../views/docs/input.md":()=>oe(()=>import("./js/input.D-M353bk.js"),__vite__mapDeps([11,1,2,3,4,5,12])),"../views/docs/joystick.md":()=>oe(()=>import("./js/joystick.C9lKEzwF.js"),__vite__mapDeps([13,1,2,3,4,5,14])),"../views/docs/mask.md":()=>oe(()=>import("./js/mask.Dlg2ihId.js"),__vite__mapDeps([15,1,2,3,4,5,16])),"../views/docs/scrollbar.md":()=>oe(()=>import("./js/scrollbar.diAf7EUo.js"),__vite__mapDeps([17,1,2,3,4,5,18])),"../views/docs/window.md":()=>oe(()=>import("./js/window.8_rZMo31.js"),__vite__mapDeps([19,1,2,3,4,5,20]))}),et=[],Vt=u=>u.split(/[-_]/).map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join(""),Ht=Object.keys(Ge).map(u=>{const a=u.replace("../views/docs/","").replace(".md",""),o="/"+a;return et.push({path:o,name:a}),{path:o,name:`Oar${Vt(a)}`,component:Ge[u]}}),tt=gt({history:bt("/oar.ui/"),routes:[{path:"/",name:"home",component:It,children:Ht},{path:"/play",name:"play",component:()=>oe(()=>import("./js/play.Qz6KzE6i.js"),__vite__mapDeps([21,2,3,4,5,22]))}]});let Je=!1;tt.beforeEach(()=>{Je||(Ze().router.push(...et),Je=!0)});const Yt=de({componentStyle:"oar",isDefault:!1});function Ie(u){return H(()=>u&&(u==null?void 0:u.default)||Yt.isDefault)}const we="oar",Xt="is-",ge=(u,a,o,i,e)=>{let d=`${u}-${a}`;return o&&(d+=`-${o}`),i&&(d+=`__${i}`),e&&(d+=`--${e}`),d};function ie(u){return{b:(a="")=>ge(we,u,a,"",""),e:a=>a?ge(we,u,"",a,""):"",m:a=>a?ge(we,u,"","",a):"",em:(a,o)=>ge(we,u,"",a,o),is:(a,o)=>a&&o?Xt+a:""}}function zt(u,a,{afterFocus:o,afterBlur:i}={}){Pe(u,c=>{c&&c.setAttribute("tabindex","-1")});const e=S(!1);return{isFocused:e,handleClick:()=>{a.value&&a.value.focus()},handleFocus:c=>{e.value||(e.value=!0,o==null||o(c))},handleBlur:c=>{var g;c.relatedTarget&&((g=u.value)!=null&&g.contains(c.relatedTarget))||(e.value=!1,i==null||i(c))}}}const Wt=["disabled"],qt={key:0,class:"svg-container",viewBox:"0 0 50 50"},Nt=se({__name:"index",props:{type:{default:"primary"},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},plain:{type:Boolean,default:!1},text:{type:Boolean,default:!1},default:{type:[Boolean,null]}},setup(u){const a=u,o=Ie(a),i=ie("button"),e=H(()=>({[i.b()]:!0,[i.m(a.type)]:!o.value,[i.m("loading")]:a.loading&&!a.disabled,[i.is("default",o.value)]:!0,[i.is("plain",!o.value&&a.plain)]:!0,[i.is("text",!o.value&&!a.plain&&a.text)]:!0}));return(d,l)=>(Y(),z("button",Be(d.$attrs,{class:e.value,disabled:d.disabled}),[a.loading&&!a.disabled?(Y(),z("svg",qt,l[0]||(l[0]=[D("circle",{cx:"25",cy:"25",r:"20",class:"circle-box"},null,-1)]))):re("",!0),ve(d.$slots,"default",{},void 0,!0)],16,Wt))}}),Ut=ne(Nt,[["__scopeId","data-v-6702e9f2"]]),jt=["placeholder","maxlength","readonly","disabled","type"],Kt=["placeholder","maxlength","readonly","disabled","type"],Gt=se({__name:"index",props:pe({clearable:{type:Boolean,default:!1},placeholder:{default:""},type:{default:"text"},maxlength:{},readonly:{type:Boolean},disabled:{type:Boolean},default:{type:[Boolean,null]}},{modelValue:{},modelModifiers:{}}),emits:pe(["focus","blur","input","clear"],["update:modelValue"]),setup(u,{expose:a,emit:o}){const i=ie("input"),[e,d]=Ae(u,"modelValue",{set(E){return d.lowercase?E.toLowerCase():E}}),l=o,s=u,c=Ie(s),g=H(()=>typeof e.value=="string"?e.value.length:0),k=H(()=>{const E=typeof s.maxlength<"u"?_(s.maxlength):NaN;return Number.isNaN(E)?void 0:E}),F=H(()=>s.type==="password"?b.value?"text":"password":s.type),b=S(!1),R=S(),y=S(),{isFocused:f,handleClick:h,handleBlur:m,handleFocus:T}=zt(R,y,{afterFocus(E){l("focus",E)},afterBlur(E){l("blur",E)}}),_=E=>Math.abs(Math.round(Number(E))),B=E=>{l("input",E)},X=()=>{e.value&&f.value&&A()},A=()=>{e.value="",l("clear")};return a({ref:y,clear:A,focus:()=>y.value.focus(),blur:()=>y.value.blur()}),(E,L)=>n(c)?_e((Y(),z("input",Be({key:0,ref_key:"inputRef",ref:y,"onUpdate:modelValue":L[0]||(L[0]=$=>qe(e)?e.value=$:null),onBlur:L[1]||(L[1]=(...$)=>n(m)&&n(m)(...$)),onFocus:L[2]||(L[2]=(...$)=>n(T)&&n(T)(...$)),onInput:B},E.$attrs,{class:[n(i).e("default")],placeholder:s.placeholder,maxlength:k.value,readonly:s.readonly,disabled:s.disabled,type:F.value}),null,16,jt)),[[We,n(e)]]):(Y(),z("div",{key:1,ref_key:"wrapperRef",ref:R,onClick:L[7]||(L[7]=(...$)=>n(h)&&n(h)(...$)),class:x([n(i).b(),n(i).is("focus",n(f)),n(i).is("disabled",s.disabled)])},[_e(D("input",Be({ref_key:"inputRef",ref:y,"onUpdate:modelValue":L[3]||(L[3]=$=>qe(e)?e.value=$:null),onBlur:L[4]||(L[4]=(...$)=>n(m)&&n(m)(...$)),onFocus:L[5]||(L[5]=(...$)=>n(T)&&n(T)(...$)),onInput:B},E.$attrs,{class:[n(i).e("inner")],placeholder:s.placeholder,maxlength:k.value,readonly:s.readonly,disabled:s.disabled,type:F.value}),null,16,Kt),[[We,n(e)]]),s.clearable?(Y(),fe(n(Rt),{key:0,onClick:X,class:x([n(i).e("clear"),n(i).is("show",n(f)&&!!n(e)),n(i).is("hide",!n(f)||!n(e))])},null,8,["class"])):re("",!0),s.type==="password"?(Y(),fe(_t(b.value?n(Lt):n(Mt)),{key:1,class:x([n(i).e("eye"),n(i).is("show",!!n(e)),n(i).is("hide",!n(e)),n(i).is("left",s.clearable)]),onClick:L[6]||(L[6]=$=>b.value=!b.value)},null,8,["class"])):re("",!0),k.value?(Y(),z("span",{key:2,class:x(n(i).e("length"))},be(g.value)+" / "+be(k.value),3)):re("",!0)],2))}}),Jt=ne(Gt,[["__scopeId","data-v-3cf2e8ec"]]);function Qt(u,a,o){let i="Y",e=!1,d=0,l=0,s=0,c=0;const g=f=>{f.ctrlKey||f.button===2||(e=!0,i=f.target.dataset.type,i==="Y"?(d=f.clientY,l=u.value.scrollTop):(s=f.clientX,c=u.value.scrollLeft),document.addEventListener("mousemove",k,!1),document.addEventListener("mouseup",F,!1),document.onselectstart=()=>!1)},k=f=>{if(e)if(i==="Y"){const h=b(f,"Y",d,l);u.value.scrollTop=h}else{const h=b(f,"X",s,c);u.value.scrollLeft=h}},F=()=>{e&&(document.removeEventListener("mousemove",k,!1),document.onselectstart=null,e=!1)},b=(f,h,m,T)=>{if(h==="Y"){const _=f.clientY-m,B=u.value.scrollHeight/a.value.clientHeight;return T+_*B}else{const _=f.clientX-m,B=u.value.scrollWidth/o.value.clientWidth;return T+_*B}};return{handleMouseDown:g,getThumbSize:()=>{const{clientHeight:f,scrollHeight:h,clientWidth:m,scrollWidth:T}=u.value,_=f===h?0:f/h*100,B=m===T?0:m/T*100;return{height:_,width:B}},getScrollDistance:f=>{const{scrollTop:h,clientHeight:m,scrollLeft:T,clientWidth:_}=f,B=h/m*100,X=T/_*100;return{scrollY:B,scrollX:X}},calcScrollValue:b}}const Zt=se({__name:"index",props:{always:{type:Boolean,default:!1},scrollY:{type:Boolean,default:!1},scrollX:{type:Boolean,default:!1},default:{type:[Boolean,null]}},emits:["scroll"],setup(u,{expose:a,emit:o}){const i=o,e=u,d=Ie(e),l=ie("scrollbar"),s=S(),c=S(),g=S(),k=S(),F=S(),b=S(),R=S(0),y=S(0),f=S(0),h=S(0),m=H(()=>({height:R.value+"%",transform:`translateY(${y.value}%)`})),T=H(()=>({width:f.value+"%",transform:`translateX(${h.value}%)`})),_=H(()=>[l.e("warp"),l.is("show",!d.value),l.is("scroll-y",e.scrollY&&!e.scrollX),l.is("scroll-x",!e.scrollY&&e.scrollX),l.is("scroll",!e.scrollX&&!e.scrollY)]),{handleMouseDown:B,getThumbSize:X,getScrollDistance:A,calcScrollValue:E}=Qt(s,g,F);Qe(()=>{Ue(s,je(500,()=>{L()})),Ue(c,je(500,()=>{L()}))});const L=()=>{const{height:O,width:I}=X();R.value=O,f.value=I},$=O=>{const{scrollY:I,scrollX:V}=A(O.target);y.value=I,h.value=V,i("scroll",O)},p=O=>{const I=O.target.getAttribute("data-type");let V="",J=0;if(I==="Y"){const K=k.value.getBoundingClientRect().top+k.value.offsetHeight/2;J=E(O,"Y",K,s.value.scrollTop),V="scrollTop"}else{const K=b.value.getBoundingClientRect().left+b.value.offsetWidth/2;J=E(O,"X",K,s.value.scrollLeft),V="scrollLeft"}P(V,J)},P=(O,I)=>{let V=0;const J=10,ee=Math.ceil((I-s.value[O])/J),K=window.requestAnimationFrame||(ce=>setTimeout(ce,10)),ae=()=>{s.value[O]+=ee,V<J&&K(ae),V+=1};ae()};return a({ref:s,setScrollTop:O=>{P("scrollTop",O)},setScrollLeft:O=>{P("scrollLeft",O)}}),(O,I)=>(Y(),z("div",{class:x([n(l).b()])},[D("div",{onScroll:$,ref_key:"wrapRef",ref:s,class:x(_.value)},[D("div",{ref_key:"wrapViewRef",ref:c,class:x([n(l).e("view")])},[ve(O.$slots,"default",{},void 0,!0)],2)],34),_e(D("div",{onClick:p,"data-type":"Y",class:x([n(l).e("bar"),n(l).e("horizontal")]),ref_key:"barHorizontalRef",ref:g},[D("div",{ref_key:"thumbHorizontalRef",ref:k,onClick:I[0]||(I[0]=Q(()=>{},["stop"])),onMousedown:I[1]||(I[1]=(...V)=>n(B)&&n(B)(...V)),"data-type":"Y",style:te(m.value),class:x([n(l).e("thumb"),n(l).is("always",e.always)])},null,38)],2),[[Ne,R.value&&!n(d)]]),_e(D("div",{onClick:p,"data-type":"X",class:x([n(l).e("bar"),n(l).e("vertical")]),ref_key:"barVerticalRef",ref:F},[D("div",{ref_key:"thumbVerticalRef",ref:b,onClick:I[2]||(I[2]=Q(()=>{},["stop"])),onMousedown:I[3]||(I[3]=(...V)=>n(B)&&n(B)(...V)),"data-type":"X",style:te(T.value),class:x([n(l).e("thumb"),n(l).is("always",e.always)])},null,38)],2),[[Ne,f.value&&!n(d)]])],2))}}),en=ne(Zt,[["__scopeId","data-v-009be30b"]]),tn=se({__name:"index",props:{type:{default:"linear"},direction:{default:"4-way"},width:{default:180},height:{default:180},linearSpeed:{default:2},rotateSpeed:{default:.012}},emits:["change","reset"],setup(u,{emit:a}){const o=u,i=a,e=ie("joystick"),d=S(),l=S(),s=S(-1),c=S(!1),g=S(!1),k=S(!1),F=S(!1),b=S(!1),R=de({x:0,y:0}),y=de({x:0,y:0}),f=S(0),h=S(0),m=de({w:!1,a:!1,s:!1,d:!1,left:!1,right:!1});let T=0,_=0,B=0;const X=H(()=>[b.value?"transition: transform 0.2s ease-out;":"",`transform: translate(${y.x}px, ${y.y}px)`]);Qe(()=>{ee(),E()}),$e(()=>{L()});const A=t=>(!g.value&&!k.value&&(c.value=t==="touch"),!c.value&&!k.value&&(g.value=t==="mouse"),!c.value&&!g.value&&(k.value=t==="keyboard"),t==="touch"?!k.value&&!g.value:t==="mouse"?!c.value&&!k.value:!c.value&&!g.value),E=()=>{window.addEventListener("keydown",P),window.addEventListener("keyup",Z),window.addEventListener("blur",O),F.value=!1},L=()=>{window.removeEventListener("keydown",P),window.removeEventListener("keyup",Z),window.removeEventListener("blur",O),F.value=!0},$=t=>{const v=t.key.toLowerCase(),r=o.type==="linear"?["w","s","a","d"]:["arrowleft","arrowright",",",".","4","6"];return{key:v,check:r.includes(v)}},p=(t,v)=>{["arrowleft",",","4"].includes(t)?m.left=v:["arrowright",".","6"].includes(t)?m.right=v:m[t]=v},P=t=>{if(!A("keyboard"))return;b.value=!1;const{key:v,check:r}=$(t);r&&(p(v,!0),T||W())},W=()=>{b.value=!1;const t=o.linearSpeed,v=o.rotateSpeed;let r=0,M=0;if(m.w&&(M-=t),m.s&&(M+=t),m.a&&(r-=t),m.d&&(r+=t),m.left)h.value-=v,y.x=Math.sin(h.value)*f.value,y.y=-Math.cos(h.value)*f.value;else if(m.right)h.value+=v,y.x=Math.sin(h.value)*f.value,y.y=-Math.cos(h.value)*f.value;else if(Math.sqrt(r*r+M*M)>0){const N=y.x+r,j=y.y+M;ce(N,j)}C(),T=requestAnimationFrame(W)},Z=t=>{if(!A("keyboard"))return;const{key:v,check:r}=$(t);r&&(p(v,!1),Object.values(m).some(Boolean)||K())},O=()=>{Object.keys(m).forEach(t=>{p(t,!1)}),K()},I=t=>Array.from(t.changedTouches).find(v=>v.identifier===s.value),V=t=>{if(!A("touch"))return;let v=0;const r=1e3/30,M=()=>{if(!A("touch"))return;const G=Date.now();G-v>r&&(C(),v=G),_=requestAnimationFrame(M)},q=G=>{const ue=I(G);ue&&ae(ue.clientX,ue.clientY)},N=G=>{A("touch")&&q(G)},j=G=>{A("touch")&&I(G)&&(K(),window.removeEventListener("touchmove",N),window.removeEventListener("touchend",j))};b.value=!1,s.value=t.changedTouches[0].identifier,ee(),q(t),M(),L(),window.addEventListener("touchmove",N),window.addEventListener("touchend",j)},J=t=>{if(t.button!==0||!A("mouse"))return;let v=0;const r=1e3/30,M=()=>{if(!A("mouse"))return;const j=Date.now();j-v>r&&(C(),v=j),B=requestAnimationFrame(M)},q=j=>{A("mouse")&&ae(j.clientX,j.clientY)},N=()=>{A("mouse")&&(K(),window.removeEventListener("mousemove",q),window.removeEventListener("mouseup",N))};b.value=!1,ee(),ae(t.clientX,t.clientY),M(),L(),window.addEventListener("mousemove",q),window.addEventListener("mouseup",N)},ee=()=>{const t=d.value.getBoundingClientRect();R.x=t.left+t.width/2,R.y=t.top+t.height/2;const v=t.width/2,M=l.value.getBoundingClientRect().width/2;f.value=v-M},K=()=>{c.value=!1,g.value=!1,k.value=!1,b.value=!0,y.x=0,y.y=0,h.value=0,s.value=-1,F.value&&E(),T&&(cancelAnimationFrame(T),T=0),B&&(cancelAnimationFrame(B),B=0),_&&(cancelAnimationFrame(_),_=0),i("reset")},ae=(t,v)=>{const r=t-R.x,M=v-R.y;ce(r,M)},ce=(t,v)=>{const r=Math.sqrt(t*t+v*v);if(r>f.value){const M=f.value/r;y.x=t*M,y.y=v*M}else y.x=t,y.y=v},ye=(t,v)=>{let r="none";t>=337.5||t<22.5?r="forward":t>=22.5&&t<67.5?r="forward-right":t>=67.5&&t<112.5?r="right":t>=112.5&&t<157.5?r="backward-right":t>=157.5&&t<202.5?r="backward":t>=202.5&&t<247.5?r="backward-left":t>=247.5&&t<292.5?r="left":t>=292.5&&t<337.5&&(r="forward-left");const M={direction:r,isForward:r==="forward",isBackward:r==="backward",isLeft:r==="left",isRight:r==="right",isForwardRight:r==="forward-right",isForwardLeft:r==="forward-left",isBackwardRight:r==="backward-right",isBackwardLeft:r==="backward-left",...v};i("change",M)},Ee=(t,v)=>{let r="none";t>=315||t<45?r="forward":t>=45&&t<135?r="right":t>=135&&t<225?r="donw":t>=225&&t<315&&(r="left");const M={direction:r,isForward:r==="forward",isBackward:r==="backward",isLeft:r==="left",isRight:r==="right",...v};i("change",M)},w=(t,v)=>{let r="none";m.left?r="left":m.right||t>0&&t<=180?r="right":t>180&&t<=360&&(r="left");const M={direction:r,isLeft:r==="left",isRight:r==="right",...v};i("change",M)},C=()=>{const t=Math.sqrt(y.x**2+y.y**2),v=Math.min(t/f.value,1),r=Math.atan2(y.x,-y.y),q=(r*180/Math.PI+360)%360,N={strength:Number(v.toFixed(2)),angle:Math.round(q),radian:Number(r.toFixed(3))};o.type==="linear"&&o.direction==="8-way"?ye(q,N):o.type==="linear"&&o.direction==="4-way"?Ee(q,N):w(q,N)};return(t,v)=>(Y(),z("div",{style:te(`width: ${o.width}px; height: ${o.height}px;`),onContextmenu:v[0]||(v[0]=Q(()=>{},["prevent"])),class:x(n(e).b())},[o.type==="linear"?(Y(),z("div",{key:0,ref_key:"outsideRef",ref:d,onTouchstart:Q(V,["prevent"]),onMousedown:Q(J,["prevent"]),class:x([n(e).e("outside"),n(e).is("linear",!0)])},[D("div",{ref_key:"innsideRef",ref:l,style:te(X.value),class:x(n(e).e("innside"))},[D("div",{class:x(n(e).e("button"))},null,2)],6),D("div",{class:x(n(e).e("keyborad"))},[D("span",{class:x([n(e).em("keyborad","w"),n(e).is("light",m.w)])},"W",2),D("span",{class:x([n(e).em("keyborad","a"),n(e).is("light",m.a)])},"A",2),D("span",{class:x([n(e).em("keyborad","s"),n(e).is("light",m.s)])},"S",2),D("span",{class:x([n(e).em("keyborad","d"),n(e).is("light",m.d)])},"D",2)],2)],34)):o.type==="rotate"?(Y(),z("div",{key:1,ref_key:"outsideRef",ref:d,onTouchstart:Q(V,["prevent"]),onMousedown:Q(J,["prevent"]),class:x([n(e).e("outside")])},[D("div",{ref_key:"innsideRef",ref:l,style:te(X.value),class:x(n(e).e("innside"))},[D("div",{class:x(n(e).e("button"))},null,2)],6),D("div",{class:x(n(e).e("keyborad"))},[D("span",{class:x([n(e).em("keyborad","left"),n(e).is("light",m.left)])},null,2),D("span",{class:x([n(e).em("keyborad","right"),n(e).is("light",m.right)])},null,2)],2)],34)):re("",!0)],38))}}),nn=ne(tn,[["__scopeId","data-v-64ed7df3"]]),on=se({__name:"index",props:{pcm16:{type:Boolean,default:!1},pressDelay:{default:200},default:{type:[Boolean,null]}},emits:["change","error","cancel"],setup(u,{emit:a}){const o=u,i=a,e=ie("audio-recorder"),d=S(null),l=S(null),s=S(null),c=S(!1),g=S(!1),k=de({left:0,top:0,opacity:0}),F=H(()=>({left:`${k.left}px`,top:`${k.top}px`,position:"fixed",opacity:k.opacity}));let b=null,R=null,y=null,f=null,h=null,m=null,T=null,_=null,B=[],X=[],A=[0,1,2],E=0,L=null,$=null,p=[],P=null;xt(()=>{V()});const W=async()=>{if(await Oe(),!d.value||!s.value)return;const w=d.value.getBoundingClientRect(),C=s.value.getBoundingClientRect();k.left=w.left-C.width-13,k.top=w.top-(C.height-w.height)/2,requestAnimationFrame(()=>{k.opacity=1})},Z=async w=>{w.preventDefault(),w instanceof MouseEvent&&(window.addEventListener("mouseup",O,{passive:!1}),window.addEventListener("mouseleave",I,{passive:!1})),b&&window.clearTimeout(b),b=window.setTimeout(()=>{k.opacity=0,c.value=!0,W(),J()},o.pressDelay)},O=w=>{w.preventDefault(),V()},I=()=>{(c.value||g.value)&&(V(),i("cancel"))},V=()=>{b&&(window.clearTimeout(b),b=null),c.value=!1,window.removeEventListener("mouseup",O),window.removeEventListener("mouseleave",I),ee(),R&&R.getTracks().forEach(w=>w.stop()),R=null},J=async()=>{try{if(R=await navigator.mediaDevices.getUserMedia({audio:!0}),!c.value){ee();return}if(g.value=!0,K(),o.pcm16)L=new AudioContext({sampleRate:16e3}),P=L.createMediaStreamSource(R),$=L.createScriptProcessor(4096,1,1),P.connect($),$.connect(L.destination),p=[],$.onaudioprocess=w=>{const C=w.inputBuffer.getChannelData(0);p.push(new Float32Array(C))};else{y=new MediaRecorder(R);let w=[];y.ondataavailable=C=>{C.data.size>0&&w.push(C.data)},y.onstop=()=>{const C=new Blob(w,{type:"audio/webm"});w=[],i("change",C)},y.start()}}catch(w){g.value=!1,V(),i("error",w)}},ee=()=>{if(g.value=!1,!o.pcm16)y&&y.state!=="inactive"&&y.stop();else if($&&($.onaudioprocess=null,$.disconnect(),$=null),P&&(P.disconnect(),P=null),L&&(L.close(),L=null),p.length){const w=p.reduce((r,M)=>r+M.length,0),C=new Float32Array(w);let t=0;for(const r of p)C.set(r,t),t+=r.length;const v=Ee(C);i("change",v),p=[]}ae(),y=null},K=async()=>{if(!R||!l.value)return;const w=l.value;if(h=w.getContext("2d"),!h)return;const C=window.devicePixelRatio||1,t=l.value.getBoundingClientRect();w.width=t.width*C,w.height=t.height*C,h.setTransform(1,0,0,1,0,0),h.scale(C,C),T=new AudioContext,m=T.createMediaStreamSource(R),_=T.createAnalyser(),_.fftSize=256,m.connect(_),ce()},ae=()=>{f&&cancelAnimationFrame(f),f=null,m&&(m.disconnect(),m=null),_&&(_.disconnect(),_=null),T&&(T.close(),T=null),h&&l.value&&(h.clearRect(0,0,l.value.clientWidth,l.value.clientHeight),h=null),X=[],B=[]},ce=()=>{if(!h||!l.value||!_)return;f=requestAnimationFrame(ce);const w=_.frequencyBinCount,C=new Uint8Array(w);_.getByteFrequencyData(C);const t=Math.floor(w/3),v=C.slice(0,t),r=C.slice(t,t*2),M=C.slice(t*2),q=[v,r,M],N=performance.now();if(N>E){A=[0,1,2];for(let U=A.length-1;U>0;U--){const he=Math.floor(Math.random()*(U+1));[A[U],A[he]]=[A[he],A[U]]}E=N+200+Math.random()*150}const j=Uint8Array.from([...q[A[0]],...q[A[1]],...q[A[2]]]),G=l.value.clientWidth,ue=l.value.clientHeight;h.clearRect(0,0,G,ue);const le=Math.min(20,w),nt=G/le,ot=G/(le-1),Ve=Math.max(1,Math.ceil(w/le));B.length!==le&&(B=new Array(le).fill(0)),X.length!==le&&(X=Array.from({length:le},()=>({maxMul:ye(.45,.75),minMul:ye(.4,.65)})));const Re=nt*.7,st=ot*.3,He=Math.floor(ue/2),at=45,lt=8,rt=.18;for(let U=0;U<le;U++){let he=0,Le=0;for(let Te=0;Te<Ve;Te++){const ze=U*Ve+Te;if(ze>=j.length)break;he+=j[ze],Le++}const it=(Le>0?he/Le:0)/255,{maxMul:ct,minMul:ut}=X[U],dt=at*ct,Ye=lt*ut;let Me=dt*it;Me<Ye&&(Me=Ye+Math.random()*5),B[U]+=(Me-B[U])*rt;const Se=B[U]/2,Xe=U*(Re+st),ft=He-Se,mt=He,pt=getComputedStyle(document.documentElement).getPropertyValue("--js-primary-color").trim();h.fillStyle=pt||"red",h.fillRect(Xe,ft,Re,Se),h.fillRect(Xe,mt,Re,Se)}},ye=(w,C)=>w+Math.random()*(C-w),Ee=w=>{const C=new ArrayBuffer(w.length*2),t=new DataView(C);let v=0;for(let r=0;r<w.length;r++,v+=2){const M=Math.max(-1,Math.min(1,w[r]));t.setInt16(v,M<0?M*32768:M*32767,!0)}return C};return(w,C)=>(Y(),z("div",{class:x(n(e).b())},[D("div",{ref_key:"triggerRef",ref:d,class:x(n(e).e("trigger")),onMousedown:Z,onTouchstart:Q(Z,["prevent"]),onTouchend:Q(O,["prevent"]),onTouchcancel:Q(I,["prevent"])},[ve(w.$slots,"trigger",{isPressing:c.value,isRecording:g.value},void 0,!0)],34),(Y(),fe(Fe,{to:"body"},[me(De,null,{default:xe(()=>[c.value?(Y(),z("div",{key:0,ref_key:"popupRef",ref:s,class:x(n(e).b("popup")),style:te(F.value)},[D("canvas",{ref_key:"canvasRef",ref:l},null,512)],6)):re("",!0)]),_:1})]))],2))}}),sn=ne(on,[["__scopeId","data-v-b0ee81e6"]]),an=se({__name:"index",props:pe({title:{default:"New Tab"},to:{default:"body"},center:{type:Boolean,default:!1},defaultPosition:{default:()=>({x:0,y:0})},width:{},height:{},contentStyle:{},contentClass:{},default:{type:[Boolean,null]}},{show:{type:Boolean,default:!1},showModifiers:{}}),emits:pe(["close"],["update:show"]),setup(u,{emit:a}){const o=u,i=a,e=ie("window"),d=Ae(u,"show"),l=S(null),s=de({x:0,y:0}),c={x:0,y:0},g=()=>{const p=_(o.defaultPosition.x,o.defaultPosition.y);s.x=p.x,s.y=p.y,c.x=p.x,c.y=p.y},k=H(()=>({transform:`translate(${s.x}px, ${s.y}px)`})),F=H(()=>[{width:typeof o.width=="number"?`${o.width}px`:o.width,height:typeof o.height=="number"?`${o.height}px`:o.height},o.contentStyle]);let b=!1,R={x:0,y:0},y={x:0,y:0},f=null,h=null,m=null;$e(()=>{f&&(cancelAnimationFrame(f),f=null),l.value=null,d.value=!1,s.x=0,s.y=0,c.x=0,c.y=0,b=!1,R={x:0,y:0},y={x:0,y:0},h=null,m=null}),Pe(d,async p=>{if(!p)return;await Oe(),await new Promise(W=>requestAnimationFrame(W)),await new Promise(W=>requestAnimationFrame(W));const P=document.querySelector(o.to);P&&(h=P.getBoundingClientRect(),m=l.value.getBoundingClientRect(),o.center?T():g())},{immediate:!0});const T=()=>{if(!h||!m)return;const p=(h.width-m.width)/2,P=(h.height-m.height)/2;s.x=p,s.y=P,c.x=p,c.y=P},_=(p,P)=>{if(!h||!m)return{x:p,y:P};const W=0,Z=0,O=h.width-m.width,I=h.height-m.height;return{x:Math.min(O,Math.max(W,p)),y:Math.min(I,Math.max(Z,P))}},B=p=>{if(p instanceof MouseEvent)return{x:p.clientX,y:p.clientY};{const P=p.touches[0];return{x:P.clientX,y:P.clientY}}},X=p=>{p.preventDefault(),p.stopPropagation(),b=!0,R=B(p),y={x:s.x,y:s.y},p instanceof MouseEvent?(window.addEventListener("mousemove",A,{passive:!1}),window.addEventListener("mouseup",E,{passive:!1}),window.addEventListener("mouseleave",E,{passive:!1})):(window.addEventListener("touchmove",A,{passive:!1}),window.addEventListener("touchend",E,{passive:!1}),window.addEventListener("touchcancel",E,{passive:!1}))},A=p=>{if(!b)return;p.preventDefault(),p.stopPropagation();const P=B(p),W=P.x-R.x,Z=P.y-R.y,O=y.x+W,I=y.y+Z,V=_(O,I);c.x=V.x,c.y=V.y,f||L()},E=p=>{p.preventDefault(),p.stopPropagation(),b=!1,p instanceof MouseEvent?(window.removeEventListener("mousemove",A),window.removeEventListener("mouseup",E),window.removeEventListener("mouseleave",E)):(window.removeEventListener("touchmove",A),window.removeEventListener("touchend",E),window.removeEventListener("touchcancel",E))},L=()=>{if(f)return;const p=()=>{s.x+=(c.x-s.x)*.18,s.y+=(c.y-s.y)*.18;const P=Math.abs(s.x-c.x)<.5,W=Math.abs(s.y-c.y)<.5;P&&(s.x=c.x),W&&(s.y=c.y),b||!P||!W?f=requestAnimationFrame(p):f&&(cancelAnimationFrame(f),f=null)};f=requestAnimationFrame(p)},$=()=>{d.value=!1,i("close")};return(p,P)=>(Y(),fe(Fe,{to:o.to},[me(De,{name:"fade"},{default:xe(()=>[d.value?(Y(),z("div",{key:0,ref_key:"windowRef",ref:l,style:te(k.value),class:x(n(e).b())},[D("div",{class:x(n(e).e("tab"))},[D("h5",{onMousedown:X,onTouchstart:X},be(o.title),33),D("div",{class:x(n(e).e("tab-btn"))},[D("div",{onClick:$,class:x(n(e).e("tab-btn-icon"))},[me(n(St))],2)],2)],2),D("div",{style:te(F.value),class:x([n(e).e("content"),o.contentClass])},[ve(p.$slots,"default",{},void 0,!0)],6)],6)):re("",!0)]),_:3})],8,["to"]))}}),ln=ne(an,[["__scopeId","data-v-789ed42d"]]),rn=se({__name:"index",props:pe({to:{},lockScroll:{type:Boolean,default:!0},closeOnClick:{type:Boolean,default:!0},opacity:{default:.5},default:{type:[Boolean,null]}},{show:{type:Boolean,default:!1},showModifiers:{}}),emits:pe(["close"],["update:show"]),setup(u,{expose:a,emit:o}){const i=u,e=o,d=ie("mask"),l=Ae(u,"show"),s=S(null),c=S(!1);let g=null;const k=H(()=>i.to==="body"?!0:i.to===document.body),F=H(()=>({"background-color":`rgba(0, 0, 0, ${i.opacity})`,"z-index":2e3})),b=async()=>{var _;c.value||(c.value=!0,i.lockScroll&&y(),await Oe(),(_=s.value)==null||_.focus())},R=()=>{c.value=!1,f()},y=()=>{!i.lockScroll||g!==null||!c.value||(g=document.body.style.overflow,document.body.style.overflow="hidden")},f=()=>{!i.lockScroll||g===null||c.value||(document.body.style.overflow=g??"",g=null)},h=_=>{_.key==="Escape"&&m()},m=()=>{i.closeOnClick&&T()},T=()=>{l.value=!1,e("close")};return Pe(l,_=>{i.lockScroll&&(_?b():R())},{immediate:!0}),$e(()=>{R()}),a({close:T}),(_,B)=>(Y(),fe(Fe,{disabled:!i.to,to:i.to},[me(De,{name:"fade",onBeforeEnter:b,onAfterLeave:R},{default:xe(()=>[l.value?(Y(),z("div",{key:0,ref_key:"maskRef",ref:s,tabindex:"-1",onKeydown:h,onClick:Q(m,["self"]),role:"dialog","aria-modal":"true",class:x([n(d).b(),n(d).is("fixed",k.value)]),style:te(F.value)},[ve(_.$slots,"default",{},void 0,!0)],38)):re("",!0)]),_:3})],8,["disabled","to"]))}}),cn=ne(rn,[["__scopeId","data-v-74ca3a4a"]]),un=["viewBox"],dn=["cx","stroke-width","cy","r"],fn=se({__name:"index",props:{radius:{default:10},strokeWidth:{default:1},padding:{default:4},dashedPercent:{default:.75},default:{type:[Boolean,null]}},setup(u){const a=u,o=ie("dashed-loading"),i=H(()=>Math.max(0,Math.min(a.dashedPercent,1))),e=H(()=>a.radius+a.strokeWidth+a.padding),d=H(()=>Math.ceil(e.value*2)),l=H(()=>`0 0 ${d.value} ${d.value}`),s=H(()=>e.value),c=H(()=>+(2*Math.PI*a.radius).toFixed(2)),g=H(()=>+(c.value*i.value).toFixed(2)),k=H(()=>+(c.value-g.value).toFixed(2)),F=H(()=>({width:`${d.value}px`,height:`${d.value}px`,"--circ":`${c.value}px`,"--dash-long":`${g.value}px`,"--dash-gap":`${k.value}px`}));return(b,R)=>(Y(),z("svg",{class:x(n(o).b()),viewBox:l.value,style:te(F.value),xmlns:"http://www.w3.org/2000/svg"},[D("circle",{class:x(n(o).e("circle")),cx:s.value,"stroke-width":a.strokeWidth,cy:s.value,r:a.radius},null,10,dn)],14,un))}}),mn=ne(fn,[["__scopeId","data-v-4b8c52a3"]]),pn=Object.freeze(Object.defineProperty({__proto__:null,OarAudioRecorder:sn,OarButton:Ut,OarDashedLoading:mn,OarInput:Jt,OarJoystick:nn,OarMask:cn,OarScrollbar:en,OarWindow:ln},Symbol.toStringTag,{value:"Module"})),hn={install(u){const a=pn;Object.keys(a).forEach(o=>{u.component(o,a[o])})}},ke=kt(Bt);ke.use(Et());ke.use(tt);ke.use(hn);ke.mount("#app");export{ne as _};
